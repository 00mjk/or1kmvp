 ##############################################################################
 #                                                                            #
 # Copyright 2018 Jan Henrik Weinstock                                        #
 #                                                                            #
 # Licensed under the Apache License, Version 2.0 (the "License");            #
 # you may not use this file except in compliance with the License.           #
 # You may obtain a copy of the License at                                    #
 #                                                                            #
 #     http://www.apache.org/licenses/LICENSE-2.0                             #
 #                                                                            #
 # Unless required by applicable law or agreed to in writing, software        #
 # distributed under the License is distributed on an "AS IS" BASIS,          #
 # WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.   #
 # See the License for the specific language governing permissions and        #
 # limitations under the License.                                             #
 #                                                                            #
 ##############################################################################

 ### General configuration ####################################################

# Specify the number of processors to instantiate in the simulation. Maximum
# allowed is 32. Override this on command line using -c system.nrcpus=X.
system.nrcpu = 1

# Specify simulation duration. Simulation will stop automatically once this
# time-stamp is reached. Use integer values with suffixes s, ms, us or ns. If
# you want to simulate infinitely, leave this commented out.
#  system.duration = 2s

# TLM global quantum, a higher value improves performance but reduces timing
# accuracy. Use integer values with suffixes s, ms, us or ns.
system.quantum  = 5us


 ### Memory and IO peripherals configuration ##################################

# Bus memory map
# system.mem   = 0x00000000 0x07ffffff
# system.uart  = 0x90000000 0x90001fff
# system.ethoc = 0x92000000 0x92001fff
# system.ompic = 0x98000000 0x98001fff

# Memory configuration
system.mem.size = 0x08000000   # 128MB
system.mem.images = $dir/../sw/vmlinux-4.3.0  @ 0x00000000; \
                    $dir/../sw/or1kmvp-up.dtb @ 0x04000000;

# UART configuration
system.uart.backend = term
# system.uart.backend = console|xterm|stdout|file|tcp|null
# system.uart.rx = uart.rx     # use with backend = file
# system.uart.tx = uart.tx     # use with backend = file
# system.uart.port = 44444     # use with backend = tcp

# ETHOC configuration
system.ethoc.mac = 3a:44:1d:55:11:5a
system.ethoc.backend = tap
# system.ethoc.backend = console|xterm|stdout|file|tcp|null
system.ethoc.backend.devno = 0


 ### Per-CPU configuration ####################################################

system.cpu0.symbols  = $dir/../sw/vmlinux-4.3.0.elf
system.cpu0.gdb_term = $dir/../bin/or1kmvp-gdbterm
system.cpu0.gdb_port = 55100   # gdb server port
system.cpu0.gdb_wait = 0       # wait until connected
system.cpu0.gdb_sync = 1       # pause SystemC when core is stopped
system.cpu0.gdb_echo = 0       # echo gdb rsp packets

# system.cpu0.enable_decode_cache = 0
# system.cpu0.enable_sleep_mode = 0
# system.cpu0.enable_insn_dmi = 0
# system.cpu0.enable_data_dmi = 0
# system.cpu0.irq_ompic = 1
# system.cpu0.irq_uart = 2
# system.cpu0.irq_ethoc = 4
